(()=>{"use strict";var e={47:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;const o=n(434);let a="/home/anton/go/src/WebInterfaceVFS/src";const r=document.querySelector("div.gifLoad"),s=document.createElement("img");let c;s.setAttribute("src","../static/img/loading.gif");let d=!1,l=!1;function u(e){let t=document.querySelector("div.scanDir");t.innerHTML="";const n=document.createElement("p");n.setAttribute("class","text-left"),n.setAttribute("id","with-margins-label");const r=document.createTextNode("Текущая директория: "+e.CurrentPathFolder);n.appendChild(r),t.appendChild(n);const s=document.createElement("p");s.setAttribute("class","text-left"),s.setAttribute("id","with-margins-label");const l=document.createTextNode("Время открытия: "+e.TimeWork);s.appendChild(l),t.appendChild(s),function(e,t){for(let n=1;n<e.DataDir.length;n++){const r=document.createElement("p");r.setAttribute("class","text-left"),r.setAttribute("id","with-margins");const s=document.createTextNode(e.DataDir[n].FileDescription);r.appendChild(s),t.appendChild(r),function(t){t.addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){d||(d=!0,console.log("Элемент "+e.DataDir[n].FilePath+" был нажат"),a=e.DataDir[n].FilePath,c=yield(0,o.getDataDir)(e.DataDir[n].FilePath,p),console.log(c),d=!1,u(c))}))})),t.addEventListener("mouseover",(function(){t.classList.add("text-hover")})),t.addEventListener("mouseout",(function(){t.classList.remove("text-hover")}))}(r),console.log(e.DataDir[n].FileDescription)}}(e,t),function(e){const t=document.createElement("a");t.setAttribute("class","btn btn-danger");const n=document.createTextNode("Назад");var r;t.appendChild(n),e.appendChild(t),(r=t).addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){if(window.moveTo(0,0),!d){d=!0;const e=a.split("/");if(console.log(e),2==e.length)a="/";else{e.slice(-1);const t=e.slice(0,-1).join("/");a=t}console.log("Элемент "+a+" был нажат"),c=yield(0,o.getDataDir)(a,p),d=!1,u(c)}}))})),r.addEventListener("mouseover",(function(){r.classList.add("text-hover")})),r.addEventListener("mouseout",(function(){r.classList.remove("text-hover")}))}(t)}function p(e){d=!e,0==e?(l=!0,s.setAttribute("src","../static/img/loading.gif"),r.appendChild(s)):r.removeChild(s)}t.main=function(){window.addEventListener("load",(e=>{})),document.addEventListener("readystatechange",(e=>{})),document.addEventListener("DOMContentLoaded",(e=>i(this,void 0,void 0,(function*(){c=yield(0,o.getDataDir)(a,p),console.log(c),d||u(c)}))))}},434:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDataDir=void 0,t.getDataDir=function(e,t){return new Promise((function(n,i){const o=new XMLHttpRequest,a="/?ROOT="+e;o.open("GET",a),o.setRequestHeader("Content-Type","application/json"),o.responseType="json",o.addEventListener("readystatechange",(()=>{if(4===o.readyState&&200===o.status){const e=o.response;t(!0),n(e)}})),t(!1),o.send()}))}}},t={};(0,function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(47).main)()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WCxPQUhBRSxFQUFvQkwsR0FBVU0sS0FBS0YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0osR0FHcEVLLEVBQU9ELE9BQ2YsQ0N0QkEsS0FFQUksTyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXRpYy8uL3NyYy9zdGF0aWMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovL3N0YXRpYy8uL3NyYy9zdGF0aWMvc2NyaXB0cy9tb2RlbC50cyIsIndlYnBhY2s6Ly9zdGF0aWMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3RhdGljLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2V0RGF0YURpcn0gZnJvbSBcIi4vbW9kZWxcIjtcblxuXG5cbmxldCBzdGFydFBhdGg6IHN0cmluZyA9IFwiL2hvbWUvYW50b24vZ28vc3JjL1dlYkludGVyZmFjZVZGUy9zcmNcIjsgLy/QodGC0LDRgNGC0L7QstCw0Y8g0LTQuNGA0LXQutGC0L7RgNC40Y9cbmxldCBjdXJyZXJ0UGF0aDogc3RyaW5nID0gc3RhcnRQYXRoOyAvL9Ci0LXQutGD0YnQsNGPINC+0YLQutGA0YvRgtCw0Y8g0LTQuNGA0LXQutGC0L7RgNC40Y9cblxuY29uc3QgR2lmRGl2OiBhbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmdpZkxvYWRcIik7XG5jb25zdCBsb2FkaW5nSW1nOiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbmxvYWRpbmdJbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vc3RhdGljL2ltZy9sb2FkaW5nLmdpZlwiKTtcbmxldCBkaXJKcyA6IGFueVxuXG5sZXQgcmVuZGVyQ29udGVudDogYm9vbGVhbiA9IGZhbHNlOyAvL9Cf0YDQvtC40LfQvtGI0ZHQuyDQu9C4INC/0LXRgNCy0LjRh9C90YvQuSDRgNC10L3QtNC10YBcbmxldCB3YWl0QW5zd2VyOiBib29sZWFuID0gZmFsc2U7XG5cbmxldCBkZWxHaWY6Ym9vbGVhbiA9IGZhbHNlO1xuXG5cblxuLy9yZW5kZXJMaXN0RGlyKCkg0L7RgtGA0LXQvdC00LXRgNC40LLQsNC10YIg0YHQv9C40YHQvtC6INGE0LDQudC70L7QsiDQsiDRgtC10LrRg9GJ0LXQuSDQtNC40YDQtdC60YLQvtGA0LjQuFxuZnVuY3Rpb24gcmVuZGVyTGlzdERpcihEYXRhOiBhbnksIHNjYW5EaXJEaXY6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgRGF0YVtcIkRhdGFEaXJcIl0ubGVuZ3RoOyBpKyspIHtcbiAgICAvL9GB0L7Qt9C00LDRkdC8INGN0LvQtdC80LXQvdGCXG4gICAgY29uc3QgZWxlbUZvckNyZWF0OiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGVsZW1Gb3JDcmVhdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRleHQtbGVmdFwiKTtcbiAgICBlbGVtRm9yQ3JlYXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ3aXRoLW1hcmdpbnNcIik7XG4gICAgLy/QlNC+0LHQsNCy0LvRj9C10Lwg0YLQtdC60YHRgiDRhNCw0LnQu9CwINC40LvQuCDQtNC40YDQtdC60YLQvtGA0LjQuCDQsiDRjdC70LXQvNC10L3RglxuICAgIGNvbnN0IGVsZW1UZXh0OiBUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoRGF0YVtcIkRhdGFEaXJcIl1baV1bXCJGaWxlRGVzY3JpcHRpb25cIl0pO1xuICAgIC8v0JTQvtCx0LDQstC70Y/QtdC8INC/0L7Qu9GD0YfQtdC90L3Ri9C5INGN0LvQtdC80LXQvdGCINC90LAg0YHRgtGA0LDQvdC40YbRg1xuICAgIGVsZW1Gb3JDcmVhdC5hcHBlbmRDaGlsZChlbGVtVGV4dCk7XG4gICAgc2NhbkRpckRpdi5hcHBlbmRDaGlsZChlbGVtRm9yQ3JlYXQpO1xuICAgIC8v0J7QsdGA0LDQsdCw0YLRi9Cy0LDQtdC8INGB0L7QsdGL0YLQuNGPINGB0LLRj9C30LDQvdC90YvQtSDRgSDRgtC+0LvRjNC60L4g0YfRgtC+INGB0L7Qt9C00LDQvdC90YvQvCDRjdC70LXQvNC10L3RgtC+0LxcbiAgICAoZnVuY3Rpb24gKGU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAvL9CV0YHQu9C4INC90LDQttCw0YLQsCDQtNC40YDQtdC60YLQvtGA0LjRjyDRhNC+0YDQvNC40YDRg9C10Lwg0L3QvtCy0YvQuSDQt9Cw0L/RgNC+0YEg0L3QsCDRgdC10YDQstC10YAg0YEg0L/Rg9GC0ZHQvCDRjdGC0L7QuSDQtNC40YDQtdC60YLQvtGA0LjQuFxuICAgICAgZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF3YWl0QW5zd2VyKSB7XG4gICAgICAgICAgd2FpdEFuc3dlciA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ9Ct0LvQtdC80LXQvdGCICcgKyBEYXRhW1wiRGF0YURpclwiXVtpXVtcIkZpbGVQYXRoXCJdICsgJyDQsdGL0Lsg0L3QsNC20LDRgicpO1xuICAgICAgICAgIGN1cnJlcnRQYXRoID0gRGF0YVtcIkRhdGFEaXJcIl1baV1bXCJGaWxlUGF0aFwiXVxuICAgICAgICAgIC8v0J/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0LjQtyDRjdGC0L7QuSDQtNC40YDQtdC60YLQvtGA0LjQuFxuICAgICAgICAgIGRpckpzID0gYXdhaXQgZ2V0RGF0YURpcihEYXRhW1wiRGF0YURpclwiXVtpXVtcIkZpbGVQYXRoXCJdLGxpc3RBbnN2ZXJGb3JTZXJ2ZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGRpckpzKTtcbiAgICAgICAgICAvL9Ce0YLRgNC10L3QtNC10YDQuNCy0LDQtdC8INGN0YLQuCDQtNCw0L3QvdGL0LVcbiAgICAgICAgICB3YWl0QW5zd2VyID0gZmFsc2U7XG4gICAgICAgICAgcmVuZGVyKGRpckpzKTtcblxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGUuY2xhc3NMaXN0LmFkZCgndGV4dC1ob3ZlcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1ob3ZlcicpO1xuICAgICAgfSk7XG5cbiAgICB9KShlbGVtRm9yQ3JlYXQpO1xuXG5cbiAgICBjb25zb2xlLmxvZyhEYXRhW1wiRGF0YURpclwiXVtpXVtcIkZpbGVEZXNjcmlwdGlvblwiXSk7XG4gIH1cbn1cblxuXG4vL3JlbmRlckJhY2tCdXR0b24oKSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDQuCDRgNCw0LHQvtGC0YMg0LrQvdC+0L/QutC4INC90LDQt9Cw0LRcbmZ1bmN0aW9uIHJlbmRlckJhY2tCdXR0b24oc2NhbkRpckRpdjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblxuICBjb25zdCBlbGVtRm9yQ3JlYXQ6IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGVsZW1Gb3JDcmVhdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ0biBidG4tZGFuZ2VyXCIpO1xuXG4gIGNvbnN0IGVsZW1UZXh0OiBUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCLQndCw0LfQsNC0XCIpO1xuICBlbGVtRm9yQ3JlYXQuYXBwZW5kQ2hpbGQoZWxlbVRleHQpO1xuICBzY2FuRGlyRGl2LmFwcGVuZENoaWxkKGVsZW1Gb3JDcmVhdCk7XG4gIC8v0J/RgNC4INC90LDQttCw0YLQuNC4INC90LAg0LrQvdC+0L/QutGDINC+0LHRgNCw0LHQsNGC0YvQstCw0LXQvCDQt9Cw0L/RgNC+0YEg0L3QsCDQvNCw0YLQtdGA0LjQvdGB0LrRg9GOINC/0LDQv9C60YMg0L7RgiDRgtC10LrRg9GJ0LXQuVxuICAoZnVuY3Rpb24gKGU6IEhUTUxFbGVtZW50KSB7XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5tb3ZlVG8oMCwgMCk7XG4gICAgICBpZiAoIXdhaXRBbnN3ZXIpIHtcbiAgICAgICAgd2FpdEFuc3dlciA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgYXJyQ3VyUGF0aDogc3RyaW5nW10gPSBjdXJyZXJ0UGF0aC5zcGxpdChcIi9cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGFyckN1clBhdGgpO1xuICAgICAgICAvL9Ce0LHRgNCw0LHQvtGC0YfQuNC6INC10YHQu9C4INC80LDRgtC10YDQuNC90YHQutCw0Y8g0L/QsNC/0LrQsCDRgNCw0LLQvdCwIFwiL1wiXG4gICAgICAgIGlmIChhcnJDdXJQYXRoLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgY3VycmVydFBhdGggPSBcIi9cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzdWI6IHN0cmluZ1tdID0gYXJyQ3VyUGF0aC5zbGljZSgtMSk7XG4gICAgICAgICAgY29uc3QgbmV3Q3VyUGF0aDogc3RyaW5nID0gYXJyQ3VyUGF0aC5zbGljZSgwLCAtMSkuam9pbihcIi9cIik7XG4gICAgICAgICAgY3VycmVydFBhdGggPSBuZXdDdXJQYXRoO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnNvbGUubG9nKCfQrdC70LXQvNC10L3RgiAnICsgY3VycmVydFBhdGggKyAnINCx0YvQuyDQvdCw0LbQsNGCJyk7XG4gICAgICAgIGRpckpzID0gYXdhaXQgZ2V0RGF0YURpcihjdXJyZXJ0UGF0aCxsaXN0QW5zdmVyRm9yU2VydmVyKTtcbiAgICAgICAgd2FpdEFuc3dlciA9IGZhbHNlO1xuICAgICAgICByZW5kZXIoZGlySnMpO1xuXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGUuY2xhc3NMaXN0LmFkZCgndGV4dC1ob3ZlcicpO1xuICAgIH0pO1xuXG4gICAgZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1ob3ZlcicpO1xuICAgIH0pO1xuXG4gIH0pKGVsZW1Gb3JDcmVhdCk7XG5cblxuICAvL2NvbnNvbGUubG9nKERhdGFbXCJEYXRhRGlyXCJdW2ldW1wiRmlsZURlc2NyaXB0aW9uXCJdKTtcblxufVxuLy9yZW5kZXIoKSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YDQtdC90LTQtdGAINC90LDQtNC/0LjRgdC4INGC0LXQutGD0YnQtdC5INC/0LDQv9C60Lgg0Lgg0LLRgNC10LzQtdC90Lgg0YDQsNCx0L7RgtGLLCDQsCDRgtCw0Log0LbQtSDQt9Cw0L/Rg9GB0LrQsFxuLy/RgNC10L3QtNC10YDQsCDRgdC/0LjRgdC60LAg0YTQsNC50LvQvtCyINC4INC60L3QvtC/0LrQuCDQvdCw0LfQsNC0XG5mdW5jdGlvbiByZW5kZXIoZGF0YUZvclJlbmRlcjogYW55KTogdm9pZCB7XG4gIGxldCBzY2FuRGlyRGl2OiBhbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnNjYW5EaXJcIik7XG5cbiAgc2NhbkRpckRpdi5pbm5lckhUTUwgPSAnJztcblxuICBjb25zdCBlbGVtUm9vdDogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgZWxlbVJvb3Quc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0ZXh0LWxlZnRcIik7XG4gIGVsZW1Sb290LnNldEF0dHJpYnV0ZShcImlkXCIsIFwid2l0aC1tYXJnaW5zLWxhYmVsXCIpO1xuICBjb25zdCBlbGVtVGV4dFJvb3Q6IFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcItCi0LXQutGD0YnQsNGPINC00LjRgNC10LrRgtC+0YDQuNGPOiBcIiArIGRhdGFGb3JSZW5kZXJbXCJDdXJyZW50UGF0aEZvbGRlclwiXSk7XG4gIGVsZW1Sb290LmFwcGVuZENoaWxkKGVsZW1UZXh0Um9vdCk7XG4gIHNjYW5EaXJEaXYuYXBwZW5kQ2hpbGQoZWxlbVJvb3QpO1xuXG4gIGNvbnN0IGVsZW1UaW1lOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBlbGVtVGltZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRleHQtbGVmdFwiKTtcbiAgZWxlbVRpbWUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ3aXRoLW1hcmdpbnMtbGFiZWxcIik7XG4gIGNvbnN0IGVsZW1UZXh0VGltZTogVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwi0JLRgNC10LzRjyDQvtGC0LrRgNGL0YLQuNGPOiBcIiArIGRhdGFGb3JSZW5kZXJbXCJUaW1lV29ya1wiXSk7XG4gIGVsZW1UaW1lLmFwcGVuZENoaWxkKGVsZW1UZXh0VGltZSk7XG4gIHNjYW5EaXJEaXYuYXBwZW5kQ2hpbGQoZWxlbVRpbWUpO1xuXG4gIHJlbmRlckxpc3REaXIoZGF0YUZvclJlbmRlciwgc2NhbkRpckRpdik7XG4gIHJlbmRlckJhY2tCdXR0b24oc2NhbkRpckRpdilcblxuXG59O1xuXG5cbmZ1bmN0aW9uIGxpc3RBbnN2ZXJGb3JTZXJ2ZXIoc3RhdHVzOmJvb2xlYW4pOiB2b2lke1xuICB3YWl0QW5zd2VyID0gIXN0YXR1c1xuICBpZiAoc3RhdHVzID09IGZhbHNlKXtcbiAgICByZW5kZXJMb2FkR2lmKHRydWUpXG4gIH1lbHNle1xuICAgIHJlbmRlckxvYWRHaWYoZmFsc2UpXG4gIH1cbiAgXG59XG5cblxuXG5cbi8vZ2V0RGF0YURpcigpINC30LDQv9GD0YHQutCw0LXRgiDQt9Cw0L/RgNC+0YEg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0LTQsNC90L3Ri9C1INC+INGE0LDQudC70LDRhSDQv9C+XG4vL9C00LDQvdC90L7QvNGDINC/0YPRgtC4INC+0YIg0YHQtdGA0LLQtdGA0LBcbi8v0LDRgNCz0YPQvNC10L3RgiByZW5kZXJHaWYg0L/QviDRgdGD0YLQuCDRjdGC0L4g0YTRg9C90LrRhtC40Y8g0L/RgNC10LTQvtGB0YLQsNCy0LvQtdC90LjRjyDQsNC60YLRg9Cw0LvRjNC90L7Qs9C+XG4vL9GB0L7RgdGC0L7Rj9C90LjRjyDRgtC10LrRg9GJ0LXQuSDQt9Cw0LPRgNGD0LfQutC4INC+0YLQstC10YLQsCDQvtGCINGB0LXRgNCy0LXRgNCwLlxuLy/Qp9C10YDQtdC3INC90LXRkSDQvNGLINC/0LXRgNC10LTQsNGR0Lwg0YHQvtGB0YLQvtGP0L3QuNC1IGZhbHNlLdC+0YLQstC10YLQsCDQtdGJ0ZEg0L3QtdGCXG5cblxuXG4vL3JlbmRlckJhY2tCdXR0b24oKSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDQuCDRgNCw0LHQvtGC0YMg0LrQvdC+0L/QutC4INC90LDQt9Cw0LRcbmZ1bmN0aW9uIHJlbmRlckxvYWRHaWYod2FpdCA6IGJvb2xlYW4pOiB2b2lkIHtcbiAgaWYgKHdhaXQpe1xuICAgICAgICAvL9CV0YHQu9C4INC40LTRkdGCINC+0LbQuNC00LDQvdC40LUg0L7RgtCy0LXRgtCwINC+0YIg0YHQtdGA0LLQtdGA0LAsINC/0L7QtNCz0YDRg9C20LDQtdGCINC60LDRgNGC0LjQvdC60YMg0LfQsNCz0YDRg9C30LrQuFxuICAgICAgICBkZWxHaWYgPSB0cnVlO1xuICAgICAgICBsb2FkaW5nSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL3N0YXRpYy9pbWcvbG9hZGluZy5naWZcIik7XG4gICAgICAgIEdpZkRpdi5hcHBlbmRDaGlsZChsb2FkaW5nSW1nKTtcbiAgICAgICAgLy/QotCw0YHQuiDQv9C10YDQtdC00LLQuNC90YPRgtGMINCz0LjRhNC60YMg0LLQstC10YDRhSDQuCDRg9C80LXQvdGM0YjQuNGC0Ywg0LXRkVxuICB9ZWxzZXtcbiAgICBHaWZEaXYucmVtb3ZlQ2hpbGQobG9hZGluZ0ltZyk7XG4gIH1cblxuXG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpOiB2b2lke1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGV2ZW50KSA9PiB7XG5cbiAgfSk7XG4gIFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgXG4gIH0pO1xuICBcbiAgLy/Qn9C10YDQstC40YfQvdCw0Y8g0L/RgNC+0LPRgNGD0LfQutCwINC00LDQvdC90YvRhSDQuCDQv9C10YDQstGL0Lkg0YHRgtGA0LDRgtC+0LLRi9C5INC30LDQv9GA0L4g0L3QsCDRgdC10YDQstC10YBcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZGlySnMgPSBhd2FpdCBnZXREYXRhRGlyKGN1cnJlcnRQYXRoLCBsaXN0QW5zdmVyRm9yU2VydmVyKTtcbiAgICBjb25zb2xlLmxvZyhkaXJKcylcbiAgICBpZiAoIXdhaXRBbnN3ZXIpe1xuICAgICAgcmVuZGVyKGRpckpzKTtcbiAgICB9XG4gICAgXG4gIH0pO1xufVxuXG5cblxuIiwiXG5cbi8vZ2V0RGF0YURpcigpINC30LDQv9GD0YHQutCw0LXRgiDQt9Cw0L/RgNC+0YEg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0LTQsNC90L3Ri9C1INC+INGE0LDQudC70LDRhSDQv9C+XG4vL9C00LDQvdC90L7QvNGDINC/0YPRgtC4INC+0YIg0YHQtdGA0LLQtdGA0LBcbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhRGlyKGNQYXRoOiBzdHJpbmcsIHN0YXR1c0Fuc3ZlcjogKHN0YXR1czogYm9vbGVhbikgPT4gdm9pZCk6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgY29uc3QgdXJsID0gXCIvP1JPT1Q9XCIgKyBjUGF0aDtcbiAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG5cbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQgJiYgcmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBjb25zdCBSZXNEYXRhID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgICAgc3RhdHVzQW5zdmVyKHRydWUpO1xuICAgICAgICByZXNvbHZlKFJlc0RhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RhdHVzQW5zdmVyKGZhbHNlKTtcbiAgICByZXF1ZXN0LnNlbmQoKTtcbiAgfSk7XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7bWFpbn0gZnJvbSBcIi4vc3RhdGljL3NjcmlwdHMvbWFpblwiO1xuXG5tYWluKCk7XG5cblxuIl0sIm5hbWVzIjpbImN1cnJlcnRQYXRoIiwiR2lmRGl2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibG9hZGluZ0ltZyIsImNyZWF0ZUVsZW1lbnQiLCJkaXJKcyIsInNldEF0dHJpYnV0ZSIsIndhaXRBbnN3ZXIiLCJkZWxHaWYiLCJyZW5kZXIiLCJkYXRhRm9yUmVuZGVyIiwic2NhbkRpckRpdiIsImlubmVySFRNTCIsImVsZW1Sb290IiwiZWxlbVRleHRSb290IiwiY3JlYXRlVGV4dE5vZGUiLCJhcHBlbmRDaGlsZCIsImVsZW1UaW1lIiwiZWxlbVRleHRUaW1lIiwiRGF0YSIsImkiLCJsZW5ndGgiLCJlbGVtRm9yQ3JlYXQiLCJlbGVtVGV4dCIsImUiLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsImdldERhdGFEaXIiLCJsaXN0QW5zdmVyRm9yU2VydmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicmVuZGVyTGlzdERpciIsIndpbmRvdyIsIm1vdmVUbyIsImFyckN1clBhdGgiLCJzcGxpdCIsInNsaWNlIiwibmV3Q3VyUGF0aCIsImpvaW4iLCJyZW5kZXJCYWNrQnV0dG9uIiwic3RhdHVzIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsImNQYXRoIiwic3RhdHVzQW5zdmVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJ1cmwiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsInJlYWR5U3RhdGUiLCJSZXNEYXRhIiwicmVzcG9uc2UiLCJzZW5kIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=